{"version":3,"file":"ion-bottom-sheet.component.js","sourceRoot":"","sources":["../../src/components/ion-bottom-sheet.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, Input, ElementRef, Renderer2, Output, EventEmitter, AfterViewInit, OnChanges, SimpleChanges } from '@angular/core';\nimport { Platform, DomController} from '@ionic/angular';\nimport { SheetState } from './ion-bottom-sheet-state';\nimport * as Hammer from 'hammerjs';\n \n@Component({\n  selector: 'ion-bottom-sheet',\n  templateUrl: './ion-bottom-sheet.component.html',\n  styleUrls: ['./ion-bottom-sheet.component.scss']\n})\nexport class IonBottomSheetComponent implements AfterViewInit, OnChanges {\n  @Input() dockedHeight: number = 200;\n  @Input() minHeight: number = 0;\n  @Input() topDistance: number = 0;\n  @Input() bounceDelta: number = 30;\n  @Input() canBounce: Boolean = true;\n  @Input() roundBorder: Boolean = true;\n  @Input() roundBorderOnTop: Boolean = false;\n  @Input() shadowBorder: Boolean = true;\n  @Input() shadowBorderOnTop: Boolean = false;\n  @Input() disableDrag: Boolean = false;\n  @Input() hideCloseButton: Boolean = false;\n  @Input() hideCloseButtonOnTop: Boolean = false;\n  @Input() hideDragIcon: Boolean = false;\n  @Input() hideDragIconOnTop: Boolean = false;\n  @Input() hideTitle: Boolean = false;\n  @Input() hideHeader: Boolean = false;\n  @Input() hideSeparator: Boolean = false;\n  @Input() titleCentered: Boolean = false;\n  @Input() titleSize: string = \"20px\";\n  @Input() titleFamily: string = \"inherit\";\n  @Input() transition: string = '0.25s ease-out';\n  @Input() state: SheetState = SheetState.Bottom;\n  @Input() title: string = \"Header Title\";\n  @Input() enableScrollContent: Boolean = false;\n  @Input() enableScrollContentOnlyOnTop: Boolean = false;\n  @Input() enableShadowHeaderOnScrolling: Boolean = true;\n  @Input() useSmoothScrolling: Boolean = true;\n  \n  @Output() stateChange: EventEmitter<SheetState> = new EventEmitter<SheetState>();\n\n  private _startPosition: number;\n  private _startScroll: number = 0;\n  private _sheetTopAnimationHasBeenPerformed: Boolean = false;\n  private _bottomShadowHeaderHasBeenPerformed: Boolean = false;\n  private _scrollUpContentCheckHasBeenPerformed: Boolean = false;\n  private _defaultScrollSetting: Boolean = false;\n  private _scrollContent: Boolean = false;\n  private _dyInitialScrollDown: number = 0;\n  private _dyInitialScrollUp: number = 0;\n\n  constructor(\n    private _element: ElementRef,\n    private _renderer: Renderer2,\n    private _domCtrl: DomController,\n    private _platform: Platform,\n  ) {\n    this._adjustForShadow();\n  }\n\n  /*********************************************************************************************************/\n  /* Ng interface implements */\n  /*********************************************************************************************************/\n\n  ngAfterViewInit() {\n    this._loadForScroll();\n    this._loadEvents();\n    this._loadCssStyle();\n    this._loadContentGesture();\n    this._loadHeaderGesture();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (!changes.state) { return; }\n    this._restoreNativeContentSize();\n    this._enableTransition();\n    this._setSheetState(changes.state.currentValue);\n  }\n\n  /*********************************************************************************************************/\n  /* Base class methods                                                                                    */\n  /*********************************************************************************************************/\n\n  private _loadHeaderGesture(){\n    if (this.disableDrag) { return; }\n    let target = this.enableScrollContent ? this._element.nativeElement.querySelector(\"#ibs-header\") :this._element.nativeElement;\n    const headerGesture = new Hammer(target);\n    headerGesture.get('pan').set({ enable: true, direction: Hammer.DIRECTION_VERTICAL });\n    headerGesture.on('panstart', () => this._onHeaderGestureStart()); \n    headerGesture.on('panend', (ev) => this._onHeaderGestureEnd(ev));\n    headerGesture.on('pan', (ev) => this._onHeaderGestureMove(ev));\n  }\n\n  private _loadContentGesture(){\n    if (!this.enableScrollContent){ return; }\n    const contentGesture = new Hammer(this._element.nativeElement.querySelector(\"#ibs-content-inner\"));\n    contentGesture.get('pan').set({ enable: true, direction: Hammer.DIRECTION_VERTICAL });\n    contentGesture.on('panstart', () => this._onContentGestureStart()); \n    contentGesture.on('panend', (ev) => this._onContentGestureEnd(ev));\n    contentGesture.on('pan', (ev) => this._onContentGestureMove(ev));\n  }\n\n  private _loadForScroll(){\n    this._defaultScrollSetting = this.enableScrollContent && (!this.enableScrollContentOnlyOnTop || !this.canBounce || this.disableDrag);\n    this._scrollContent = this._defaultScrollSetting;\n  }\n\n  private _adjustForShadow(){\n    if (!this.shadowBorder) { return; }\n    if (this.minHeight > 0 ) { return; }\n    this.minHeight = this.minHeight - 10;\n  }\n\n  private _loadEvents(){\n    this._renderer.listen(this._element.nativeElement, \"transitionend\", this._checkForAnimationOnTop.bind(this));\n\n    if (!this.hideCloseButton) {\n      this._renderer.listen(this._element.nativeElement.querySelector(\"#close-button\"), \"click\", this.closeSheet.bind(this));\n    }\n\n    if (this.enableScrollContent) {\n      this._renderer.listen(this._element.nativeElement, \"transitionend\", this._checkForScrolling.bind(this));\n      this._renderer.listen(this._element.nativeElement.querySelector(\"#ibs-content-inner\"), \"scroll\", this._contentShadowOnScroll.bind(this));\n      this._renderer.listen(this._element.nativeElement, \"transitionend\", this._changeNativeContentSize.bind(this));\n    }\n  }\n\n  private _loadCssStyle(){\n    this._cssAutoManageClass(\"no-close-btn\", this.hideCloseButton, this._element.nativeElement);\n    this._cssAutoManageClass(\"no-drag-icon\", this.hideDragIcon, this._element.nativeElement);\n    this._cssAutoManageClass(\"no-title\", this.hideTitle, this._element.nativeElement);\n    this._cssAutoManageClass(\"no-header\", this.hideHeader, this._element.nativeElement);\n    this._cssAutoManageClass(\"separator\", !this.hideSeparator, this._element.nativeElement.querySelector(\"#ibs-header\"));\n    this._cssAutoManageClass(\"round-border\", this.roundBorder, this._element.nativeElement.querySelector(\"#ibs-container\"));\n    this._cssAutoManageClass(\"shadow-border\", this.shadowBorder, this._element.nativeElement.querySelector(\"#ibs-container\"));\n    this._cssAutoManageClass(\"txt-center\", this.titleCentered, this._element.nativeElement.querySelector(\"#title\"));\n    this._cssAutoManageClass(\"pd5\", this.enableShadowHeaderOnScrolling, this._element.nativeElement.querySelector(\"#ibs-content\"));\n    this._setStyle(\"font-size\", this.titleSize, this._element.nativeElement.querySelector(\"#title\"));\n    this._setStyle(\"font-family\", this.titleFamily, this._element.nativeElement.querySelector(\"#title\"));\n  }\n\n  private _setSheetState(state: SheetState) {\n    switch (state) {\n      case SheetState.Bottom:\n        this._setTranslateY('calc(100vh - ' + this.minHeight + 'px)'); break;\n      case SheetState.Docked:\n        this._setTranslateY('calc(100vh - ' + this.dockedHeight + 'px)'); break;\n      case SheetState.Top:\n        this._setTranslateY(this.topDistance + 'px'); break;\n    }\n  }\n  \n  private _getPosition(currentState: SheetState): number{\n    switch (currentState) {\n      case SheetState.Bottom:\n        return this._platform.height() - this.minHeight;\n      case SheetState.Docked:\n        return this._platform.height() - this.dockedHeight;\n      case SheetState.Top:\n        return this.topDistance;\n    }\n  }\n\n  private _nextSate(currentState: SheetState, gestureDirection: number): number{\n    switch (currentState) {\n      case SheetState.Bottom:\n        return gestureDirection < 0 ? SheetState.Docked : SheetState.Bottom;\n      case SheetState.Docked:\n        return gestureDirection < 0 ? SheetState.Top : SheetState.Bottom;\n      case SheetState.Top:\n        return gestureDirection < 0 ? SheetState.Top : SheetState.Docked;\n    }\n  }\n\n  private _checkForScrolling(){\n    this._dyInitialScrollUp = this._dyInitialScrollDown = 0;\n\n    if (this._element.nativeElement.getBoundingClientRect().y == this._getPosition(SheetState.Top)){\n      this._scrollContent = this.enableScrollContent;\n      return;\n    }\n\n    this._scrollContent = this._defaultScrollSetting;\n  }\n\n  private _checkForAnimationOnTop(){\n\n    if (this._element.nativeElement.getBoundingClientRect().y == this._getPosition(SheetState.Top)){\n      if (this._sheetTopAnimationHasBeenPerformed) { return; }\n      this._sheetTopAnimationHasBeenPerformed = true;\n      this._scrollContent = this.enableScrollContent;\n    }else{\n      if (!this._sheetTopAnimationHasBeenPerformed) { return; }\n      this._sheetTopAnimationHasBeenPerformed = false;\n      this._scrollContent = false;\n      if (this.enableScrollContent && this.enableScrollContentOnlyOnTop) {\n       this._element.nativeElement.querySelector(\"#ibs-content-inner\").scroll({ top: 0, behavior: this.useSmoothScrolling ? 'smooth' : 'auto'});\n      }\n    }\n\n    if (!this.roundBorderOnTop && this.roundBorder) {\n      this._cssAutoManageClass(\"round-border\", !this._sheetTopAnimationHasBeenPerformed, this._element.nativeElement.querySelector(\"#ibs-container\"));\n    }\n    \n    if (!this.shadowBorderOnTop && this.shadowBorder) {\n      this._cssAutoManageClass(\"shadow-border\", !this._sheetTopAnimationHasBeenPerformed, this._element.nativeElement.querySelector(\"#ibs-container\"));\n    }\n\n    if (this.hideDragIconOnTop && !this.hideDragIcon) {\n      this._cssSwitchClass(this._sheetTopAnimationHasBeenPerformed ? \"fadeOut\" : \"fadeIn\", this._sheetTopAnimationHasBeenPerformed ? \"fadeIn\" : \"fadeOut\",  this._element.nativeElement.querySelector(\"#drag-icon\"));\n    }\n\n    if (this.hideCloseButtonOnTop && !this.hideCloseButton) {\n      this._cssSwitchClass(this._sheetTopAnimationHasBeenPerformed ? \"fadeOut\" : \"fadeIn\", this._sheetTopAnimationHasBeenPerformed ? \"fadeIn\" : \"fadeOut\",  this._element.nativeElement.querySelector(\"#close-button\"));\n    }\n  }\n\n  private _cssSwitchClass(entryClassName, exitClassName, selector) {\n    this._cssRemoveClass(exitClassName, selector);\n    this._cssAddClass(entryClassName, selector);\n  }\n\n  private _cssAutoManageClass(className:string, isToaddClass:Boolean, selector:HTMLBaseElement){\n    this._domCtrl.write(() => { isToaddClass ? this._cssAddClass(className, selector) : this._cssRemoveClass(className, selector) });\n  }\n\n  private _cssAddClass(className:string, selector:HTMLBaseElement){\n    this._domCtrl.write(() => this._renderer.addClass(selector, className) );\n  }\n\n  private _cssRemoveClass(className:string, selector: HTMLBaseElement){\n    this._domCtrl.write(() => this._renderer.removeClass(selector, className) );\n  }\n\n  private _setStyle(property:string, value:string, selector:HTMLBaseElement){\n    this._domCtrl.write(() => this._renderer.setStyle(selector, property, value) );\n  }\n\n  private _enableTransition(){\n    this._setStyle('transition', this.transition, this._element.nativeElement);\n  }\n\n  private _disableTransition(){\n    this._setStyle('transition', \"none\", this._element.nativeElement);\n  }\n\n  private _restoreNativeContentSize(){\n    if (!this._scrollContent) { return; }\n    let newContentHeight = \"calc(100vh - \" + (this.topDistance + this._getHeaderHeight()) + \"px)\";\n    this._setStyle(\"height\", newContentHeight, this._element.nativeElement.querySelector(\"#ibs-content\"));\n  }\n\n  private _changeNativeContentSize(){\n    if (!this._scrollContent) { return; }\n    let newContentHeight = \"calc(100vh - \" + (this._element.nativeElement.getBoundingClientRect().y + this._getHeaderHeight()) + \"px)\";\n    this._setStyle(\"height\", newContentHeight, this._element.nativeElement.querySelector(\"#ibs-content\"));\n    this._autoEnableContentScroll();\n  }\n\n  private _getHeaderHeight(){\n    return this.hideHeader ? 0 : this._element.nativeElement.querySelector(\"#ibs-header\").getBoundingClientRect().height;\n  }\n\n  private _autoEnableContentScroll(){\n    this._domCtrl.read(() => {\n      let contentInnerScrollHeight = this._element.nativeElement.querySelector(\"#ibs-content-inner\").scrollHeight;\n      let contentHeight = this._element.nativeElement.querySelector(\"#ibs-content\").getBoundingClientRect().height;\n      this._scrollContent = (contentHeight - contentInnerScrollHeight < 0);\n    });\n  }\n\n  private _contentShadowOnScroll(){\n    if (this._element.nativeElement.querySelector(\"#ibs-content-inner\").scrollTop > 0){\n      if (this._bottomShadowHeaderHasBeenPerformed) { return; }\n      this._bottomShadowHeaderHasBeenPerformed = true;\n    }else{\n      if (!this._bottomShadowHeaderHasBeenPerformed) { return; }\n      this._bottomShadowHeaderHasBeenPerformed = false;\n    }\n\n    if (this.enableShadowHeaderOnScrolling){\n      this._cssAutoManageClass(\"bottom-header-shadow\", this._bottomShadowHeaderHasBeenPerformed, this._element.nativeElement.querySelector(\"#ibs-header\"));\n    }\n  }\n \n  private _setTranslateY(value) {\n    this._setStyle('transform', 'translateY(' + value + ')', this._element.nativeElement);\n  }\n\n  closeSheet(){\n    this.stateChange.emit(this.state = SheetState.Bottom);\n  }\n\n  /*********************************************************************************************************/\n  /* Gestures                                                                                              */\n  /*********************************************************************************************************/\n\n  private _onHeaderGestureStart(){\n    this._startPosition = this._element.nativeElement.getBoundingClientRect().y;\n    this._disableTransition();\n    this._restoreNativeContentSize();\n  }\n\n  private _onHeaderGestureEnd(ev, dyInitial=0){\n    if (!this.canBounce) { return; }\n\n    if ( Math.abs(ev.deltaY-dyInitial) > this.bounceDelta){\n      this.stateChange.emit(this.state = this._nextSate(this.state, ev.deltaY-dyInitial));\n    }else{\n      this._enableTransition();\n      this._setTranslateY(this._getPosition(this.state) + \"px\");\n    }\n  }\n\n  private _onHeaderGestureMove(ev, dyInitial=0){\n    let nextYposition = this._startPosition + ev.deltaY - dyInitial;\n\n    if ( (nextYposition <= this._getPosition(SheetState.Top) ) && ( (ev.deltaY - dyInitial) < 0) ){\n      nextYposition = this._getPosition(SheetState.Top);\n    }\n\n    if ((nextYposition >= this._getPosition(SheetState.Bottom)) && ( (ev.deltaY - dyInitial) > 0)){\n      nextYposition = this._getPosition(SheetState.Bottom);\n    }\n    \n    this._setTranslateY(nextYposition + \"px\");\n    this._changeNativeContentSize();\n    this._checkForAnimationOnTop();\n  }\n\n  private _onContentGestureStart(){\n    if (!this._scrollContent && !this.disableDrag) { this._onHeaderGestureStart(); return; }\n    this._startScroll = this._element.nativeElement.querySelector(\"#ibs-content-inner\").scrollTop;\n  }\n\n  private _onContentGestureEnd(ev){\n    if (!this._scrollContent && !this.disableDrag) { \n      this._onHeaderGestureEnd(ev, this._dyInitialScrollDown); \n      this._scrollContent = true;\n      return; \n    }\n    // initialize up and down scroll initial values\n    this._dyInitialScrollUp = this._dyInitialScrollDown = 0;\n    // restore performance scroll flag \n    this._scrollUpContentCheckHasBeenPerformed = false;\n    // define scroll math function\n    let currentScrollPosition = this._element.nativeElement.querySelector(\"#ibs-content-inner\").scrollTop;\n    let speed = - Math.sign(ev.deltaY) * (Math.exp(Math.round(Math.abs(ev.velocityY))) - 1);\n    let mP = this.useSmoothScrolling ? speed * Math.abs(ev.deltaY) : 0;\n    let nextScroll = currentScrollPosition + mP;\n    // scroll\n    this._element.nativeElement.querySelector(\"#ibs-content-inner\").scroll({ top: nextScroll, behavior: this.useSmoothScrolling ? 'smooth' : 'auto'});\n  }\n\n  private _onContentGestureMove(ev){\n    if (!this._scrollContent && !this.disableDrag) { this._onHeaderGestureMove(ev, this._dyInitialScrollDown); return; }\n\n    // get Delta Y before scrolling\n    if ( (this.state != SheetState.Top) && (ev.deltaY < 0) && (!this._scrollUpContentCheckHasBeenPerformed) ) {\n      this._dyInitialScrollUp = ev.deltaY;\n      this._scrollUpContentCheckHasBeenPerformed = true;\n    }\n\n    let nextScroll = this._startScroll - ev.deltaY + this._dyInitialScrollUp;\n    \n    // stop scroll and move all sheet down / up\n    if ((nextScroll <= 0 ) && (ev.deltaY - this._dyInitialScrollUp > 0)) {\n      this._onHeaderGestureStart();\n      this._scrollContent = false;\n      nextScroll = 0;\n      this._dyInitialScrollUp = 0;\n      // get Delta Y before moving sheet\n      this._dyInitialScrollDown = ev.deltaY;\n      this._scrollUpContentCheckHasBeenPerformed = false;\n    }\n    \n    this._element.nativeElement.querySelector(\"#ibs-content-inner\").scroll(0, nextScroll);\n  }\n}"]}